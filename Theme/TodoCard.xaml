<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:TODO.Utils">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Theme/ModernCheckBox.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <!-- Define the Converter as a Resource -->
    <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />

    <DataTemplate x:Key="TodoCardTemplate">
        <Border Background="#353340" CornerRadius="10" Padding="10" Margin="5" Width="220" Height="170">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="5" Color="#22202f" Opacity="0.5" />
            </Border.Effect>
            <Grid>
                <!-- Priority Indicator -->
                <Border Background="Red" CornerRadius="5" Width="10" Height="10" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="5"
                        Visibility="{Binding Priority, Converter={StaticResource BoolToVisibilityConverter}}" />

                <!-- Main Content -->
                <StackPanel VerticalAlignment="Top">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <CheckBox IsChecked="{Binding IsCompleted}" Style="{StaticResource ModernCheckBoxStyle}" Margin="5 0" />
                        <TextBlock Text="{Binding Title}" FontWeight="Bold" FontSize="15" Foreground="LightGray" TextTrimming="CharacterEllipsis" VerticalAlignment="Center" Width="155"/>
                    </StackPanel>

                    <!-- Description -->
                    <TextBlock Text="{Binding Description}" FontSize="12" Foreground="LightGray" Margin="5" TextWrapping="Wrap"/>
                </StackPanel>

                <!-- Footer -->
                <Border Background="#22202f" CornerRadius="0,0,10,10" VerticalAlignment="Bottom" Height="20" Margin="-10,0,-10,-10">
                    <TextBlock Text="Footer Content" Foreground="LightGray" VerticalAlignment="Center" HorizontalAlignment="Center" />
                </Border>
            </Grid>
        </Border>
    </DataTemplate>
</ResourceDictionary>